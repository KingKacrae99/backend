{
  "swagger": "2.0",
  "info": {
    "title": "Business Management API",
    "description": "A professional API for managing inventory, suppliers, products, categories, and orders within a business management system. It supports billing, auditing, and user roles (Admin, Manager, Staff, Client).",
    "version": "1.0.0",
    "contact": {
      "name": "API Support",
      "email": "support@businessmgtapi.com"
    }
  },
  "host": "business-mgt-api.onrender.com",
  "basePath": "/",
  "schemes": ["https"],
  "consumes": ["application/json"],
  "produces": ["application/json"],

  "paths": {
      "/": {
      "get": {
        "description": "Root endpoint",
        "responses": {
          "200": { "description": "API is running" }
        }
      }
    },
    "/categories": {
      "get": {
        "summary": "Get all categories",
        "tags": ["Categories"],
        "responses": {
          "200": {
            "description": "List of all product categories",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/Category" }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new category",
        "tags": ["Categories"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/Category" }
          }
        ],
        "responses": {
          "201": { "description": "Category created successfully" },
          "400": { "description": "Invalid input" }
        }
      }
    },

    "/products": {
      "get": {
        "summary": "Get all products",
        "tags": ["Products"],
        "responses": {
          "200": {
            "description": "List of all products",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/Product" }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new product",
        "tags": ["Products"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/Product" }
          }
        ],
        "responses": {
          "201": { "description": "Product created successfully" },
          "400": { "description": "Invalid input data" }
        }
      }
    },

    "/orders": {
      "get": {
        "summary": "Retrieve all orders",
        "tags": ["Orders"],
        "responses": {
          "200": {
            "description": "List of orders",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/Order" }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new order",
        "tags": ["Orders"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/Order" }
          }
        ],
        "responses": {
          "201": { "description": "Order created successfully" },
          "400": { "description": "Invalid input" }
        }
      }
    },

    "/suppliers": {
      "get": {
        "summary": "Get all suppliers",
        "tags": ["Suppliers"],
        "responses": {
          "200": {
            "description": "List of suppliers",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/Supplier" }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new supplier",
        "tags": ["Suppliers"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/Supplier" }
          }
        ],
        "responses": {
          "201": { "description": "Supplier created successfully" },
          "400": { "description": "Invalid data" }
        }
      }
    },

    "/audits": {
      "get": {
        "summary": "Get all inventory audit logs",
        "tags": ["Inventory Audit"],
        "responses": {
          "200": {
            "description": "List of inventory audit records",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/InventoryAudit" }
            }
          }
        }
      },
      "post": {
        "summary": "Record an inventory audit action",
        "tags": ["Inventory Audit"],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/InventoryAudit" }
          }
        ],
        "responses": {
          "201": { "description": "Audit record created" }
        }
      }
    },

    "/users": {
      "get": {
        "summary": "Get all users",
        "tags": ["Users"],
        "responses": {
          "200": {
            "description": "List of users",
            "schema": {
              "type": "array",
              "items": { "$ref": "#/definitions/User" }
            }
          }
        }
      }
    }
  },

  "definitions": {
    "Category": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": { "type": "string", "example": "Electronics" }
      }
    },

    "Product": {
      "type": "object",
      "required": ["name", "sku", "category", "costPrice", "sellPrice"],
      "properties": {
        "name": { "type": "string", "example": "Wireless Mouse" },
        "sku": { "type": "string", "example": "WMX-001" },
        "description": { "type": "string", "example": "Ergonomic wireless mouse" },
        "category": { "type": "string", "example": "671cbe892d3f48a60a1e4c9b" },
        "costPrice": { "type": "number", "example": 20.5 },
        "sellPrice": { "type": "number", "example": 35.99 },
        "quantity": { "type": "number", "example": 50 },
        "reorderLevel": { "type": "number", "example": 5 },
        "supplierId": { "type": "string", "example": "671cbe1b2d3f48a60a1e4c97" },
        "unit": { "type": "string", "enum": ["Pieces", "Packs", "Dozen", "Box"], "example": "Pieces" }
      }
    },

    "Supplier": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": { "type": "string", "example": "ABC Supplies Ltd" },
        "email": { "type": "string", "example": "info@abcsupplies.com" },
        "phone": { "type": "string", "example": "+2348100000000" },
        "address": { "type": "string", "example": "12, Market Road, Lagos" },
        "productsSupplied": {
          "type": "array",
          "items": { "type": "string" },
          "example": ["671cbe892d3f48a60a1e4c9b"]
        }
      }
    },

    "Order": {
      "type": "object",
      "required": ["items", "total"],
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "productId": { "type": "string", "example": "671cbe892d3f48a60a1e4c9b" },
              "name": { "type": "string", "example": "Wireless Mouse" },
              "quantity": { "type": "number", "example": 2 },
              "price": { "type": "number", "example": 35.99 },
              "subtotal": { "type": "number", "example": 71.98 }
            }
          }
        },
        "total": { "type": "number", "example": 71.98 },
        "tax": { "type": "number", "example": 5 },
        "discount": { "type": "number", "example": 0 },
        "status": { "type": "string", "enum": ["Pending", "Paid"], "example": "Pending" }
      }
    },

    "InventoryAudit": {
      "type": "object",
      "required": ["productId", "userId", "action", "quantityChanged"],
      "properties": {
        "productId": { "type": "string", "example": "671cbe892d3f48a60a1e4c9b" },
        "userId": { "type": "string", "example": "671cbfcd2d3f48a60a1e4d2a" },
        "action": { "type": "string", "enum": ["Add Stock", "Remove Stock", "Sale", "Adjustment"], "example": "Add Stock" },
        "quantityChanged": { "type": "number", "example": 10 },
        "note": { "type": "string", "example": "Restocked 10 units" },
        "isRead": { "type": "boolean", "example": false }
      }
    },

    "User": {
      "type": "object",
      "required": ["googleId", "fullName", "email", "picture"],
      "properties": {
        "googleId": { "type": "string", "example": "1012938479234" },
        "fullName": { "type": "string", "example": "John Doe" },
        "email": { "type": "string", "example": "john.doe@gmail.com" },
        "picture": { "type": "string", "example": "https://lh3.googleusercontent.com/photo.jpg" },
        "locale": { "type": "string", "example": "en" },
        "role": { "type": "string", "enum": ["Admin", "Manager", "Staff", "Client"], "example": "Manager" },
        "joinedAt": { "type": "string", "format": "date-time" }
      }
    }
  }
}
